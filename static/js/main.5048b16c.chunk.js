(this["webpackJsonpjson-editor"]=this["webpackJsonpjson-editor"]||[]).push([[0],{26:function(e,t,a){e.exports=a(36)},33:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),c=a(42),i=a(43),s=a(13);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:void 0,filename:"",mode:"normal"},m=r.a.createContext(p),y=function(e,t){switch(t.type){case"SET_NAME":return d({},e,{filename:t.payload});case"CHANGE_DATA":return d({},e,{data:t.payload});case"CHANGE_MODE":return d({},e,{mode:t.payload});default:return e}},f=a(3),b=a(24),g=function(e){var t=e.onDrop,a=e.accept,n=e.errors,o=e.isLoading,l=Object(b.a)({onDrop:t,accept:a}),c=l.getRootProps,i=l.getInputProps,s=(l.isDragActive,{container:{border:"5px dashed gray",outline:"none",width:"100%",height:"90%",display:"flex",flexFlow:"column",justifyContent:"center",textAlign:"center"},dropzone:{cursor:"pointer"}});return r.a.createElement("div",Object.assign({style:s.container},c()),r.a.createElement("div",{style:s.dropzone,className:"dropzone-content"},r.a.createElement("input",Object.assign({className:"dropzone-input"},i())),"Drag-and-Drop a JSON file here or click to select file",r.a.createElement("div",{style:{padding:"3em"}},r.a.createElement("i",{className:"huge upload icon"})),n?r.a.createElement("div",{style:{color:"red",maxWidth:"50%",margin:"0 auto"}},n):r.a.createElement(r.a.Fragment,null,o&&r.a.createElement("span",null,"Importing file..."))))},h=a(25),O=a(45),v=a(44),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(n.useState)(e),a=Object(f.a)(t,2),r=a[0],o=a[1],l=function(e){o(e.currentTarget.value)};return{inputVal:r,handleInputChange:l}},j=function(e){var t="#ce824a";switch(function(e){return"true"===e||"false"===e||"boolean"===typeof e?"boolean":isNaN(e)&&"number"!==typeof e?"string":"number"}(e)){case"string":break;case"number":t="#b5cea8";break;case"boolean":t="#358cd6"}return t},w=function(e){return isNaN(e)?"true"===e||"false"!==e&&e:isNaN(parseFloat(e))?e:parseFloat(e)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=E(t),r=a.inputVal,o=a.handleInputChange,l=Object(n.useState)(j(r)),c=Object(f.a)(l,2),i=c[0],s=c[1],u=Object(n.useContext)(m),d=Object(f.a)(u,2),p=d[0],y=d[1],b=function(){s(j(r));for(var t=p.data,a=t,n=0;n<e.length-1;n++)a=a[e[n]];a[e[e.length-1]]=w(r),y({type:"CHANGE_DATA",payload:t})},g=function(t){for(var a,n=p.data,r=n,o=0;o<e.length;o++)r=r[e[o]];switch(t.type){case"value":a="";break;case"object":a={};break;case"array":a=[];break;default:a=""}Array.isArray(r)?r.push(a):"array"===t.type?r[t.name]=[]:r[t.name]=a,y({type:"CHANGE_DATA",payload:n})};return{inputVal:r,handleInputChange:o,handleFieldUpdate:b,handleAddNewField:g,inputColor:i}},A=function(e){var t=e.name,a=e.value,n=e.isArrayItem,o=e.parentKeys,l=k(o,a),c=l.inputVal,i=l.inputColor,s=l.handleInputChange,u=l.handleFieldUpdate,d={field:{display:"flex",height:"1.5em",lineHeight:"1.5em"},label:{display:"inline-block",color:"".concat(n?"#c586c0":"#9cdcfe"),overflow:"hidden",textOverflow:"ellipsis"},input:{paddingLeft:"0.3em",backgroundColor:"#333333",minWidth:"33%",color:"".concat(i),border:"1px solid #202020",borderRadius:"3px",outline:"none"}};return r.a.createElement(O.a,{style:d.field},r.a.createElement("span",{title:t,style:d.label},"".concat(t,": ")),r.a.createElement("input",{style:d.input,type:"text",onChange:s,onBlur:u,value:c,name:t}))},C=Object(v.a)((function(e){return{color:"white",fontFamily:"sans-serif",fontSize:"small"===e.size?"0.9em":"1.1em",height:"small"===e.size?"1.75em":"3em",textAlign:"center",backgroundColor:e.color||"#555",border:"3px solid #222",outline:"none",borderRadius:"6px",":hover":{backgroundColor:e.color||"#666",cursor:"pointer"}}}),"button",["onClick"]);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){var t=e.parentKeys,a=e.isArrayItem,o=Object(n.useState)({name:"",type:""}),l=Object(f.a)(o,2),c=l[0],i=l[1],u=k(t).handleAddNewField,d=function(e){i(N({},c,Object(s.a)({},e.currentTarget.name,e.currentTarget.value)))},p={form:{paddingLeft:"1.25em"},input:{paddingLeft:"0.3em",backgroundColor:"#333",border:"1px solid #202020",borderRadius:"3px",outline:"none",height:"1.5em"}};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(c)},style:p.form},!a&&r.a.createElement("input",{style:N({},p.input,{color:"#9cdcfe"}),name:"name",type:"text",value:c.name,onChange:d,placeholder:"new field",required:!0}),r.a.createElement("select",{style:N({},p.input,{color:"white"}),name:"type",value:c.type,onChange:d,defaultValue:"value"},r.a.createElement("option",{value:"value"},"value"),r.a.createElement("option",{value:"array"},"array"),r.a.createElement("option",{value:"object"},"object")),r.a.createElement(C,{size:"small"},r.a.createElement("i",{className:"check icon green"})))},S=function e(t){var a=t.field,o=t.name,l=t.mode,c=t.parentKeys,i=t.isArrayItem,s=t.isLastItem,u=t.showBorder,d=void 0===u||u,p=Object(n.useState)(!1),m=Object(f.a)(p,2),y=m[0],b=m[1],g=function(){b(!y)},E={fieldBlock:{position:"relative",paddingLeft:"1.25em",borderLeft:"".concat(d?"1px solid #454545":"none"),":hover":{backgroundColor:"rgba(100,100,100,0.05)"}},blockLabel:{":hover":{cursor:"pointer"},height:"1.5em",lineHeight:"1.5em",color:"#9cdcfe"},blockIndex:{":hover":{cursor:"pointer"},color:"#c586c0"},brackets:{color:"white"}},j=Object.keys(a),w=Object(v.a)(E.fieldBlock,"div",["onMouseOver","onMouseLeave"]);return r.a.createElement(w,{style:E.fieldBlock},"object"===typeof a?r.a.createElement((function(e){var t=Array.isArray(e.field)?["[","]"]:["{","}"];return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:i?E.blockIndex:E.blockLabel},r.a.createElement("div",{onClick:g},o,r.a.createElement("span",{style:E.brackets},": ",t[0]),y&&r.a.createElement("span",{style:E.brackets},"\u2026",t[1]+(s?"":",")))),e.children,!y&&r.a.createElement("span",{style:E.brackets},t[1]+(s?"":",")))}),{field:a},!y&&r.a.createElement(r.a.Fragment,null,j.map((function(t,n){return r.a.createElement(e,{key:n,name:t,mode:l,parentKeys:[].concat(Object(h.a)(c),[t]),parentLength:j.length,isArrayItem:Array.isArray(a),isLastItem:j.length-1===n,field:a[t]})})),"edit"===l&&r.a.createElement(D,{isArrayItem:Array.isArray(a),parentKeys:c}))):r.a.createElement(A,{name:o,value:a,isArrayItem:i,parentKeys:c}))},I=function(){var e=Object(n.useContext)(m),t=Object(f.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(f.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(""),d=Object(f.a)(u,2),p=d[0],y=d[1],b=Object(n.useCallback)((function(e){y(""),s(!0),e.map((function(e){var t=new FileReader;t.onload=function(e){return function(t){try{var a=JSON.parse(t.target.result);o({type:"SET_NAME",payload:e.name}),o({type:"CHANGE_DATA",payload:a}),s(!1)}catch(n){console.error(n),y(n.toString())}}}(e),t.readAsText(e)}))}),[]);return r.a.createElement(O.a,{style:{padding:"1em",flex:"1 1 auto",minWidth:"60%",overflow:"auto",backgroundColor:"#1e1e1e",boxShadow:"inset 0 0 5px #101010",borderRadius:"5px",fontSize:"16px",scrollbarColor:"#2e2e2e #1e1e1e","@media (max-width: 1024px)":{width:"100%"}}},a.data?r.a.createElement(r.a.Fragment,null,Object.keys(a.data).map((function(e,t){var n=a.data[e];return r.a.createElement(S,{key:t,name:e,parentKeys:[e],parentLength:Object.keys(a.data).length,isArrayItem:!1,isLastItem:Object.keys(a.data).length-1===t,showBorder:!1,mode:a.mode,field:n})})),"edit"===a.mode&&r.a.createElement(D,{isArrayItem:!1,parentKeys:[]})):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{isLoading:i,errors:p,onDrop:b,accept:"application/json"}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"1em"}},r.a.createElement(C,{onClick:function(){o({type:"CHANGE_DATA",payload:{}}),o({type:"CHANGE_MODE",payload:"edit"})}},"Create New JSON"))))},L=function(){var e=Object(n.useContext)(m),t=Object(f.a)(e,2),a=t[0],o=t[1],l=a.data,c=a.filename;return r.a.createElement(O.a,{style:{width:"100%",flex:"0 1 50px",display:"flex",justifyContent:"center"}},r.a.createElement(C,{color:"normal"===a.mode?"#999":null,onClick:function(){return o({type:"CHANGE_MODE",payload:"normal"})}},r.a.createElement("i",{className:"eye icon"}),"Normal View"),r.a.createElement(C,{color:"edit"===a.mode?"#999":null,onClick:function(){return o({type:"CHANGE_MODE",payload:"edit"})}},r.a.createElement("i",{className:"pencil icon"}),"Edit View"),r.a.createElement(C,{color:"green",onClick:function(){return function(e,t){var a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,t);else{var n=document.createElement("a"),r=URL.createObjectURL(a);n.href=r,n.download=t,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(r)}),0)}}(l,c)}},r.a.createElement("i",{className:"download icon"}),"Export JSON"))},P=function(){var e=Object(n.useContext)(m),t=Object(f.a)(e,2),a=t[0];t[1];return r.a.createElement("div",{style:{fontFamily:"Consolas,monaco,monospace",display:"flex",flexFlow:"column",padding:"0.5em",width:"100vw",height:"100vh",alignItems:"center",color:"white"}},r.a.createElement(I,null),a.data&&r.a.createElement(L,null))},F=(a(33),Object(i.a)());l.a.render(r.a.createElement(c.a,{renderer:F},r.a.createElement((function(e){var t=Object(n.useReducer)(y,p);return r.a.createElement(m.Provider,{value:t},e.children)}),null,r.a.createElement(P,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.5048b16c.chunk.js.map