{"version":3,"sources":["components/Store.tsx","components/tools/Dropzone.tsx","components/hooks/useInput.ts","components/hooks/useField.ts","components/editor/Field.tsx","components/ui/Button.tsx","components/editor/NewField.tsx","components/editor/FieldBlock.tsx","components/editor/Editor.tsx","components/tools/Toolbar.tsx","components/tools/exporter.ts","components/App.tsx","index.tsx"],"names":["initialState","data","undefined","filename","mode","Store","React","createContext","reducer","state","action","type","payload","Dropzone","props","onDrop","accept","errors","isLoading","useDropzone","getRootProps","getInputProps","styles","isDragActive","container","border","width","height","display","flexFlow","justifyContent","textAlign","dropzone","cursor","style","className","padding","color","maxWidth","margin","useInput","initialValue","useState","inputVal","setInputVal","handleInputChange","e","currentTarget","value","getColorForValue","isNaN","inferTypeFromString","unstringifyValue","parseFloat","useField","parentKeys","inputColor","setFieldColor","useContext","dispatch","handleFieldUpdate","newData","target","i","length","handleAddNewField","field","Array","isArray","push","name","Field","isArrayItem","lineHeight","label","overflow","textOverflow","input","paddingLeft","backgroundColor","borderRadius","outline","FelaComponent","title","onChange","onBlur","Button","createComponent","fontFamily","fontSize","size","NewField","setField","form","onSubmit","preventDefault","placeholder","required","defaultValue","FieldBlock","isLastItem","showBorder","isCollapsed","setCollapsed","handleClick","fieldBlock","position","borderLeft","blockLabel","blockIndex","brackets","keys","Object","FieldBlockContainer","bracket","onClick","children","map","key","parentLength","Editor","setIsLoading","setErrors","handleFileSelect","useCallback","acceptedFiles","file","reader","FileReader","onload","JSON","parse","result","error","console","toString","readAsText","minWidth","flex","boxShadow","scrollbarColor","marginTop","Toolbar","Blob","stringify","window","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","handleExportData","App","alignItems","renderer","createRenderer","ReactDOM","render","RendererProvider","useReducer","Provider","getElementById"],"mappings":"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","file":"static/js/main.a55f52af.chunk.js","sourcesContent":["import React, { useReducer, useContext } from 'react'\n\ninterface IAction {\n  type: string\n  payload: any\n}\n\ninterface IState {\n  data: any\n  mode: string\n  filename: string\n}\n\nexport const initialState: IState = {\n  data: undefined,\n  filename: '',\n  mode: 'normal'\n}\n\nexport const Store = React.createContext<IState | any>(initialState)\n\nexport const reducer = (state: IState, action: IAction): IState => {\n  switch (action.type) {\n    case 'SET_NAME':\n      return { ...state, filename: action.payload }\n    case 'CHANGE_DATA':\n      return { ...state, data: action.payload }\n    case 'CHANGE_MODE':\n      return { ...state, mode: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const StoreProvider = (props: any): JSX.Element => {\n  const state = useReducer(reducer, initialState)\n  return <Store.Provider value={state}>{props.children}</Store.Provider>\n}\n","import React from 'react'\nimport { useDropzone } from 'react-dropzone'\n\nconst Dropzone = (props: any) => {\n  const { onDrop, accept, errors, isLoading } = props\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept\n  })\n\n  const styles = {\n    container: {\n      border: '5px dashed gray',\n      width: '100%',\n      height: '90%',\n      display: 'flex',\n      flexFlow: 'column',\n      justifyContent: 'center',\n      textAlign: 'center' as const\n    },\n    dropzone: {\n      cursor: 'pointer'\n    }\n  }\n  return (\n    <div style={styles.container} {...getRootProps()}>\n      <div style={styles.dropzone} className='dropzone-content'>\n        <input className='dropzone-input' {...getInputProps()} />\n        Drag-and-Drop a JSON file here or click to select file\n        <div style={{ padding: '3em' }}>\n          <i className='huge upload icon'></i>\n        </div>\n        {errors ? (\n          <div style={{ color: 'red', maxWidth: '50%', margin: '0 auto' }}>\n            {errors}\n          </div>\n        ) : (\n          <>{isLoading && <span>Importing file...</span>}</>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Dropzone\n","import React, { useState } from 'react'\n\nconst useInput = (initialValue = undefined) => {\n  const [inputVal, setInputVal] = useState<any>(initialValue)\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    setInputVal(e.currentTarget.value)\n  }\n\n  return {\n    inputVal,\n    handleInputChange\n  }\n}\n\nexport default useInput\n","import React, { useState, useContext } from 'react'\nimport useInput from './useInput'\nimport { Store } from '../Store'\n\nexport type ValueType = any\n\n// Returns typeof given value based on its type or inferred type from if string\nconst inferTypeFromString = (value: any) => {\n  if (value === 'true' || value === 'false' || typeof value === 'boolean')\n    return 'boolean'\n  else if (!isNaN(value) || typeof value === 'number') return 'number'\n  else return 'string'\n}\n\n// Returns color based on value's type of either string, number, or boolean\nconst getColorForValue = (value: any) => {\n  const type = inferTypeFromString(value)\n  let color = '#ce824a'\n  switch (type) {\n    case 'string':\n      break\n    case 'number':\n      color = '#b5cea8'\n      break\n    case 'boolean':\n      color = '#358cd6'\n      break\n    default:\n      break\n  }\n  return color\n}\n\n// Returns literal value of given string (number or boolean)\nconst unstringifyValue = (value: ValueType) => {\n  if (!isNaN(value)) return isNaN(parseFloat(value)) ? value : parseFloat(value)\n  else if (value === 'true') return true\n  else if (value === 'false') return false\n  else return value\n}\n\nconst useField = (\n  parentKeys: string[],\n  initialValue: ValueType = undefined\n) => {\n  const { inputVal, handleInputChange } = useInput(initialValue)\n  const [inputColor, setFieldColor] = useState<string>(\n    getColorForValue(inputVal)\n  )\n  const [state, dispatch] = useContext(Store)\n\n  const handleFieldUpdate = () => {\n    // Update color based on type\n    setFieldColor(getColorForValue(inputVal))\n\n    // Update store\n    let newData = state.data\n    let target = newData\n\n    for (let i = 0; i < parentKeys.length - 1; i++) {\n      target = target[parentKeys[i]]\n    }\n    //stackoverflow.com/questions/56297351/how-to-use-shouldcomponentupdate-with-react-hooks/56297625\n\n    https: target[parentKeys[parentKeys.length - 1]] = unstringifyValue(\n      inputVal\n    )\n\n    dispatch({ type: 'CHANGE_DATA', payload: newData })\n  }\n\n  const handleAddNewField = (field: any) => {\n    // Update store\n    let newData = state.data\n    let target = newData\n\n    for (let i = 0; i < parentKeys.length; i++) {\n      target = target[parentKeys[i]]\n    }\n\n    let inputVal: any\n    switch (field.type) {\n      case 'value':\n        inputVal = ''\n        break\n      case 'object':\n        inputVal = {}\n        break\n      case 'array':\n        inputVal = []\n        break\n      default:\n        inputVal = ''\n        break\n    }\n\n    // If parent is array, add to it\n    if (Array.isArray(target)) {\n      target.push(inputVal)\n    } else {\n      // Initialize empty array if newly created\n      if (field.type === 'array') {\n        target[field.name] = []\n      } else {\n        target[field.name] = inputVal\n      }\n    }\n\n    dispatch({ type: 'CHANGE_DATA', payload: newData })\n  }\n\n  return {\n    inputVal,\n    handleInputChange,\n    handleFieldUpdate,\n    handleAddNewField,\n    inputColor\n  }\n}\n\nexport default useField\n","import React from 'react'\nimport { FelaComponent } from 'react-fela'\nimport useField, { ValueType } from '../hooks/useField'\n\ntype FieldProps = {\n  name: string\n  value: any\n  parentKeys: string[]\n  isArrayItem: boolean\n}\n\nconst Field = (props: FieldProps) => {\n  const { name, value, isArrayItem, parentKeys } = props\n  const {\n    inputVal,\n    inputColor,\n    handleInputChange,\n    handleFieldUpdate\n  } = useField(parentKeys, value)\n\n  const styles = {\n    field: {\n      display: 'flex',\n      height: '1.5em',\n      lineHeight: '1.5em'\n    },\n    label: {\n      display: 'inline-block',\n      color: `${isArrayItem ? '#c586c0' : '#9cdcfe'}`,\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    },\n    input: {\n      paddingLeft: '0.3em',\n      backgroundColor: '#333333',\n      color: `${inputColor}`,\n      border: '1px solid #202020',\n      borderRadius: '3px',\n      outline: 'none'\n    }\n  }\n\n  return (\n    <FelaComponent style={styles.field}>\n      <span title={name} style={styles.label}>{`${name}: `}</span>\n      <input\n        style={styles.input}\n        type='text'\n        onChange={handleInputChange}\n        onBlur={handleFieldUpdate}\n        value={inputVal}\n        name={name}\n      />\n    </FelaComponent>\n  )\n}\n\nexport default Field\n","import { createComponent } from 'react-fela'\n\nconst button = (props: any) => ({\n  color: 'white',\n  fontFamily: 'sans-serif',\n  fontSize: props.size === 'small' ? '0.9em' : '1.1em',\n  height: props.size === 'small' ? '1.75em' : '3em',\n  textAlign: 'center' as const,\n  backgroundColor: props.color || '#555',\n  border: '3px solid #222',\n  outline: 'none',\n  borderRadius: '6px',\n  ':hover': {\n    backgroundColor: props.color || '#666',\n    cursor: 'pointer'\n  }\n})\n\nconst Button = createComponent(button, 'button', ['onClick'])\n\nexport default Button\n","import React, { useState } from 'react'\nimport useField from '../hooks/useField'\nimport Button from '../ui/Button'\nimport { isArray } from 'util'\n\ntype NewFieldProps = {\n  parentKeys: string[]\n  isArrayItem: boolean\n}\n\nconst NewField = (props: NewFieldProps) => {\n  const { parentKeys, isArrayItem } = props\n  const [field, setField] = useState({ name: '', type: '' })\n  const { handleAddNewField } = useField(parentKeys)\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    setField({ ...field, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  const styles = {\n    form: {\n      paddingLeft: '1.25em'\n    },\n    input: {\n      paddingLeft: '0.3em',\n      backgroundColor: '#333',\n      border: '1px solid #202020',\n      borderRadius: '3px',\n      outline: 'none',\n      height: '1.5em'\n    }\n  }\n  return (\n    <form\n      onSubmit={e => {\n        e.preventDefault()\n        handleAddNewField(field)\n      }}\n      style={styles.form}\n    >\n      {!isArrayItem && (\n        <input\n          style={{ ...styles.input, color: '#9cdcfe' }}\n          name='name'\n          type='text'\n          value={field.name}\n          onChange={handleInputChange}\n          placeholder='new field'\n          required\n        />\n      )}\n      <select\n        style={{ ...styles.input, color: 'white' }}\n        name='type'\n        value={field.type}\n        onChange={handleInputChange}\n        defaultValue='value'\n      >\n        <option value='value'>value</option>\n        <option value='array'>array</option>\n        <option value='object'>object</option>\n      </select>\n      <Button size='small'>\n        <i className='check icon green'></i>\n      </Button>\n    </form>\n  )\n}\n\nexport default NewField\n","import React, { useState } from 'react'\nimport { FelaComponent, createComponent } from 'react-fela'\nimport Field from './Field'\nimport NewField from './NewField'\nimport Button from '../ui/Button'\nimport { isArray } from 'util'\n\ntype FieldBlockProps = {\n  name: string\n  field: any\n  isArrayItem: boolean\n  isLastItem: boolean\n  showBorder?: boolean\n  parentLength: number\n  mode: string\n  parentKeys: string[] // An array of keys to keep track of which portion of data\n}\n\nconst FieldBlock = (props: FieldBlockProps) => {\n  const {\n    field,\n    name,\n    mode,\n    parentKeys,\n    isArrayItem,\n    isLastItem,\n    showBorder = true\n  } = props\n  const [isCollapsed, setCollapsed] = useState(false)\n\n  const handleClick = () => {\n    setCollapsed(!isCollapsed)\n  }\n\n  const styles = {\n    fieldBlock: {\n      position: 'relative' as const,\n      paddingLeft: '1.25em',\n      borderLeft: `${showBorder ? '1px solid #454545' : 'none'}`,\n      ':hover': {\n        backgroundColor: 'rgba(100,100,100,0.05)'\n      }\n    },\n    blockLabel: {\n      ':hover': {\n        cursor: 'pointer'\n      },\n      height: '1.5em',\n      lineHeight: '1.5em',\n      color: '#9cdcfe'\n    },\n    blockIndex: {\n      ':hover': {\n        cursor: 'pointer'\n      },\n      color: '#c586c0'\n    },\n    brackets: {\n      color: 'white'\n    }\n  }\n\n  // Wraps label and block in brackets depending on object type\n  const BracketsWrapper = (props: any) => {\n    const bracket = Array.isArray(props.field) ? ['[', ']'] : ['{', '}']\n\n    return (\n      <>\n        <FelaComponent\n          style={isArrayItem ? styles.blockIndex : styles.blockLabel}\n        >\n          <div onClick={handleClick}>\n            {name}\n            <span style={styles.brackets}>: {bracket[0]}</span>\n            {isCollapsed && (\n              <span style={styles.brackets}>\n                &#8230;\n                {bracket[1] + (isLastItem ? '' : ',')}\n              </span>\n            )}\n          </div>\n        </FelaComponent>\n        {props.children}\n        {!isCollapsed && (\n          <span style={styles.brackets}>\n            {bracket[1] + (isLastItem ? '' : ',')}\n          </span>\n        )}\n      </>\n    )\n  }\n\n  //console.log(field)\n  const keys = Object.keys(field)\n\n  const FieldBlockContainer = createComponent(styles.fieldBlock, 'div', [\n    'onMouseOver',\n    'onMouseLeave'\n  ])\n\n  return (\n    <FieldBlockContainer style={styles.fieldBlock}>\n      {typeof field === 'object' ? (\n        <BracketsWrapper field={field}>\n          {!isCollapsed && (\n            <>\n              {keys.map((key, i) => {\n                return (\n                  <FieldBlock\n                    key={i}\n                    name={key}\n                    mode={mode}\n                    parentKeys={[...parentKeys, key]}\n                    parentLength={keys.length}\n                    isArrayItem={Array.isArray(field)}\n                    isLastItem={keys.length - 1 === i}\n                    field={field[key]}\n                  />\n                )\n              })}\n              {mode === 'edit' && (\n                <NewField\n                  isArrayItem={Array.isArray(field)}\n                  parentKeys={parentKeys}\n                />\n              )}\n            </>\n          )}\n        </BracketsWrapper>\n      ) : (\n        <Field\n          name={name}\n          value={field}\n          isArrayItem={isArrayItem}\n          parentKeys={parentKeys}\n        />\n      )}\n    </FieldBlockContainer>\n  )\n}\n\nexport default FieldBlock\n","import React, { useState, useContext, useCallback } from 'react'\nimport Dropzone from '../tools/Dropzone'\nimport FieldBlock from './FieldBlock'\nimport Button from '../ui/Button'\nimport { Store } from '../Store'\nimport NewField from './NewField'\n\nconst Editor = () => {\n  const [state, dispatch] = useContext(Store)\n  const [isLoading, setIsLoading] = useState(false)\n  const [errors, setErrors] = useState('')\n\n  const handleFileSelect = useCallback(acceptedFiles => {\n    setErrors('')\n    setIsLoading(true)\n\n    acceptedFiles.map((file: any) => {\n      const reader = new FileReader()\n\n      reader.onload = (file => (e: any) => {\n        try {\n          // Set data and filename in store\n          let data = JSON.parse(e.target.result)\n          dispatch({ type: 'SET_NAME', payload: file.name })\n          dispatch({ type: 'CHANGE_DATA', payload: data })\n          setIsLoading(false)\n        } catch (error) {\n          console.error(error)\n          setErrors(error.toString())\n        }\n      })(file)\n\n      reader.readAsText(file)\n    })\n  }, [])\n\n  const handleCreateNewClick = () => {\n    dispatch({ type: 'CHANGE_DATA', payload: {} })\n    dispatch({ type: 'CHANGE_MODE', payload: 'edit' })\n  }\n\n  const style = {\n    padding: '1em',\n    minWidth: '50%',\n    flex: '1 1 auto',\n    overflow: 'auto',\n    backgroundColor: '#1e1e1e',\n    boxShadow: 'inset 0 0 5px #101010',\n    borderRadius: '5px',\n    fontSize: '16px',\n    scrollbarColor: '#2e2e2e #1e1e1e'\n  }\n\n  return (\n    <div style={style}>\n      {!state.data ? (\n        <>\n          <Dropzone\n            isLoading={isLoading}\n            errors={errors}\n            onDrop={handleFileSelect}\n            accept='application/json'\n          />\n          <div style={{ textAlign: 'center', marginTop: '1em' }}>\n            <Button onClick={handleCreateNewClick}>Create New JSON</Button>\n          </div>\n        </>\n      ) : (\n        <>\n          {Object.keys(state.data).map((key, i) => {\n            const field = state.data[key]\n            return (\n              <FieldBlock\n                key={i}\n                name={key}\n                parentKeys={[key]}\n                parentLength={Object.keys(state.data).length}\n                isArrayItem={false}\n                isLastItem={Object.keys(state.data).length - 1 === i}\n                showBorder={false}\n                mode={state.mode}\n                field={field}\n              />\n            )\n          })}\n          {state.mode === 'edit' && (\n            <NewField isArrayItem={false} parentKeys={[]} />\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default Editor\n","import React, { useContext } from 'react'\nimport { FelaComponent } from 'react-fela'\nimport { Store } from '../Store'\nimport { handleExportData } from './exporter'\nimport Button from '../ui/Button'\n\nconst Toolbar = () => {\n  const [state, dispatch] = useContext(Store)\n  const { data, filename } = state\n\n  const style = {\n    width: '100%',\n    flex: '0 1 50px',\n    display: 'flex',\n    justifyContent: 'center'\n  }\n\n  return (\n    <FelaComponent style={style}>\n      <Button\n        color={state.mode === 'normal' ? '#999' : null}\n        onClick={() => dispatch({ type: 'CHANGE_MODE', payload: 'normal' })}\n      >\n        <i className='eye icon'></i>\n        Normal View\n      </Button>\n      <Button\n        color={state.mode === 'edit' ? '#999' : null}\n        onClick={() => dispatch({ type: 'CHANGE_MODE', payload: 'edit' })}\n      >\n        <i className='pencil icon'></i>\n        Edit View\n      </Button>\n      <Button color='green' onClick={() => handleExportData(data, filename)}>\n        <i className='download icon'></i>\n        Export JSON\n      </Button>\n    </FelaComponent>\n  )\n}\n\nexport default Toolbar\n","export const handleExportData = (data: any, filename: string) => {\n  const file = new Blob([JSON.stringify(data, null, 2)], {\n    type: 'application/json'\n  })\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename)\n  else {\n    // Others\n    let a = document.createElement('a'),\n      url = URL.createObjectURL(file)\n    a.href = url\n    a.download = filename\n    document.body.appendChild(a)\n    a.click()\n    setTimeout(() => {\n      document.body.removeChild(a)\n      window.URL.revokeObjectURL(url)\n    }, 0)\n  }\n}\n","import React, { useContext, useEffect } from 'react'\n\nimport Editor from './editor/Editor'\nimport { Store } from './Store'\nimport Toolbar from './tools/Toolbar'\n\nconst App: React.FC = () => {\n  const [state, dispatch] = useContext(Store)\n\n  const style = {\n    fontFamily: 'Consolas,monaco,monospace',\n    display: 'flex',\n    flexFlow: 'column',\n    padding: '0.5em',\n    width: '100vw',\n    height: '100vh',\n    alignItems: 'center',\n    color: 'white'\n  }\n\n  return (\n    <div style={style}>\n      <Editor />\n      {state.data && <Toolbar />}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { RendererProvider } from 'react-fela'\nimport { createRenderer } from 'fela'\nimport { StoreProvider } from './components/Store'\nimport App from './components/App'\nimport './index.css'\n\nconst renderer = createRenderer()\n\nReactDOM.render(\n  <RendererProvider renderer={renderer}>\n    <StoreProvider>\n      <App />\n    </StoreProvider>\n  </RendererProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}